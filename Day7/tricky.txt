ğŸ”¥ Tricky Question 1: Multiple Tests, Same Level
â“ Code
beforeEach(() => console.log('G beforeEach'));
afterEach(() => console.log('G afterEach'));

describe('A', () => {
  beforeEach(() => console.log('A beforeEach'));
  afterEach(() => console.log('A afterEach'));

  test('test 1', () => console.log('test 1'));
  test('test 2', () => console.log('test 2'));
});

âœ… Output
G beforeEach
A beforeEach
test 1
A afterEach
G afterEach

G beforeEach
A beforeEach
test 2
A afterEach
G afterEach

ğŸ§  Why

Hooks run per test, not per describe.

ğŸ”¥ Tricky Question 2: beforeAll vs beforeEach
â“ Code
beforeAll(() => console.log('G beforeAll'));
beforeEach(() => console.log('G beforeEach'));

describe('A', () => {
  beforeAll(() => console.log('A beforeAll'));
  beforeEach(() => console.log('A beforeEach'));

  test('t1', () => console.log('test'));
});

âœ… Output
G beforeAll
A beforeAll
G beforeEach
A beforeEach
test

ğŸ§  Why

beforeAll runs once

beforeEach runs for every test

ğŸ”¥ Tricky Question 3: Nested afterAll
â“ Code
afterAll(() => console.log('G afterAll'));

describe('A', () => {
  afterAll(() => console.log('A afterAll'));

  describe('B', () => {
    afterAll(() => console.log('B afterAll'));

    test('t', () => {});
  });
});

âœ… Output
B afterAll
A afterAll
G afterAll

ğŸ§  Why

afterAll always runs inside â†’ outside

ğŸ”¥ Tricky Question 4: â— No Tests Inside Describe
â“ Code
describe('Empty block', () => {
  beforeAll(() => console.log('beforeAll'));
  beforeEach(() => console.log('beforeEach'));
  afterEach(() => console.log('afterEach'));
  afterAll(() => console.log('afterAll'));
});

â“ What runs?
âœ… Answer
(beforeAll âŒ)
(beforeEach âŒ)
(afterEach âŒ)
(afterAll âŒ)

ğŸ§  Why

ğŸ‘‰ No tests = no hooks run

ğŸ”¥ Tricky Question 5: Test Failure
â“ Code
beforeEach(() => console.log('beforeEach'));
afterEach(() => console.log('afterEach'));

test('fails', () => {
  console.log('test');
  throw new Error('fail');
});

âœ… Output
beforeEach
test
afterEach

ğŸ§  Why

afterEach always runs, even if the test fails.

ğŸ”¥ Tricky Question 6: Async Hook Timing
â“ Code
beforeEach(async () => {
  console.log('beforeEach start');
  await Promise.resolve();
  console.log('beforeEach end');
});

test('t', () => console.log('test'));

âœ… Output
beforeEach start
beforeEach end
test

ğŸ§  Why

Jest waits for async hooks to finish.

ğŸ”¥ Tricky Question 7: Hook Order with 3 Levels
â“ Question

Which runs first?

L2 afterEach  OR  L1 afterEach?

âœ… Answer
L2 afterEach

ğŸ§  Rule

Cleanup always runs deepest first

ğŸ¯ Ultra-Short Rules (Interview Cheat Sheet)
beforeAll   â†’ outer â†’ inner (once)
beforeEach  â†’ outer â†’ inner (per test)
afterEach   â†’ inner â†’ outer (per test)
afterAll    â†’ inner â†’ outer (once)